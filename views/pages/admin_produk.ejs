<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale1.0">
        <link rel="stylesheet" href="../css/admin_produk.css">
        <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    </head>

    <body>
        <nav class="sidebar">
            <div class="sidebar__top-content">
                <a href=""><img height="108px" width="192px" src="../picture/logo.png" alt=""></a>
            </div>
            <ul class="sidebar__links"style="margin-left: -20px; margin-top: -25px">

                <p class="main_nav">MAIN MENU</p>

                <li class="sidebar__link">
                    <a href="/admin-dash">
                        <i class='sidebar__link-icon bx bxs-home' ></i>
                        <span class="sidebar__link-name">Dashboard</span>
                    </a>
                </li>

                <li class="sidebar__link">
                    <a href="/admin-toko">
                        <i class='sidebar__link-icon bx bxs-store'></i>
                        <span class="sidebar__link-name">Profil Toko</span>
                    </a>
                </li>

                <li class="sidebar__link">
                    <a href="/admin-ongoing">
                        <i class='sidebar__link-icon bx bxs-cart alt'></i>
                        <span class="sidebar__link-name">Ongoing Order</span>
                    </a>
                </li>

                <li class="sidebar__link">
                    <a href="/admin-transaksi">
                        <i class='sidebar__link-icon bx bx-money-withdraw'></i>
                        <span class="sidebar__link-name">Transaksi</span>
                    </a>
                </li>

                <li class="sidebar__link">
                    <a href="/admin-produk">
                        <i class='sidebar__link-icon bx bxs-cube'style="color: #E76F51;"></i>
                        <span class="sidebar__link-name" style="color: #E76F51;">List Produk</span>
                    </a>
                </li>

            </ul>

            <div class="out">
            <a href="/home">
                <button style="background-color: #2A9D8F;">Keluar Dari Toko</button>
            </a>
            </div>
        </nav>

        <div class="right">
            <h1 style="margin-left: 30px; margin-top: 60px;">List Produk</h1>

            <form>
                <input class="search" type="text" placeholder="cari...     " style="float: inline-end; margin-right: 30px; margin-bottom: 30px; height: 35px; font-size: 16px;">
            </form>

            <div class="table-wrap" style="display: block;">
                <table id="tbl">
                    <tr>
                      <th>Produk</th>
                      <th>Deskripsi</th>
                      <th>Harga Satuan</th>
                      <th>Stok</th>
                      <th>Terjual</th>
                      <th>Review</th>
                      <th>Edit</th>
                    </tr>
                     
                    <% produks.forEach(prdk => { %>
                    <tr class="row">
                      <td style="max-width: 5vw; padding-right: 5px;"><%- prdk.produk %></td>
                      <td style="max-width: 10vw;"><%- prdk.deskripsi %></td>
                      <td>Rp<%- prdk.harga %></td>
                      <td><%- prdk.stok %></td>
                      <td><%- prdk.terjual %></td>
                      <td><%- prdk.rating %></td>
                      <td><button class="myBtn" onclick="edit('<%= prdk.produk %>')">Edit</button></td>
                    </tr>
                    <% }) %>
                    
                  </table>
            </div>
            <span style="display: flex;  width: 100%;">
                <button class="myBtn" style="display: block; margin: auto; margin-top: -30px;">Tambahkan produk</button>
            </span>
        </div>

        <!-- The Modal -->
        <div id="myModal" class="modal">

    <!-- Modal content -->
    <div class="modal-content">
      <div class="modal-header">
        <span class="close">&times;</span>
        <h2>Atur Produk</h2>
      </div>
      <div class="modal-body">
        <form method="post" action="/admin-produk">
            <div class="inline" style="margin-top: -20px; margin-left: -1px;">
                <span style="margin-right: 60px; margin-top: 30px;">
                    <p style="color: #264653;">Nama Produk</p>
                    <input type="text" id="lol" name="produk">
                </span>
                <span style="margin-top: 30px; margin-right: 60px;">
                    <p for="referrer" style="display: block;">Deskripsi Produk</p>
                    <textarea name="deskripsi" id="referrer" cols="50" rows="3"></textarea>
                </span>
                <span style="margin-top: 30px; margin-right: 60px;">
                    <p>Sisa Stok</p>
                    <input type="number" name="stok">
                </span>
                <span style="margin-top: 30px; margin-right: 60px;">
                    <p>Harga Satuan</p>
                    <input type="number" name="harga">
                </span>
                <span style="margin-top: 70px;">
                    <button id="save" type="submit">Simpan Perubahan</button>
                </span>
            </div>
        </form>
    </div>
  
  </div>
  
  <script>

  // Get the modal
  var modal = document.getElementById("myModal");
  
  // Get the button that opens the modal
  let btn = document.querySelectorAll(".myBtn");
  var tbl = document.getElementById("tbl");
  for(let i = 0; i<btn.length; i++){
    // When the user clicks the button, open the modal 
    btn[i].onclick = function() {
    modal.style.display = "block";
  }
  }

  function savechange() {
        var row = document.getElementById("tbl").rows;
        var r = 1;
        var c = 1;
        var col = row[r].cells;
        var changed = document.getElementById("lol").value;
        col[c].innerHTML = changed;
    }
  
  // Get the <span> element that closes the modal
  var span = document.getElementsByClassName("close")[0];
  
  // When the user clicks on <span> (x), close the modal
  span.onclick = function() {
    modal.style.display = "none";
  }
  
  // When the user clicks anywhere outside of the modal, close it
  window.onclick = function(event) {
    if (event.target == modal) {
      modal.style.display = "none";
    }
  }

  </script>
  
        

    </body>

</html>
